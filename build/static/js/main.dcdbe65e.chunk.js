(this["webpackJsonpscaledrone-chat-app"]=this["webpackJsonpscaledrone-chat-app"]||[]).push([[0],[,,,,,,,,function(e,x,F){},function(e,x,F){},function(e,x,F){},,function(e,x,F){},function(e,x,F){},function(e,x,F){},function(e,x,F){},function(e,x,F){},function(e,x,F){},function(e,x,F){},function(e,x,F){},function(e,x,F){"use strict";F.r(x);var t=F(1),s=F.n(t),a=F(3),A=F.n(a),n=(F(8),F(9),F(10),F(0));function r(e){let{getElement:x}=e;const[F,s]=Object(t.useState)(!1),a=()=>{let e=window.document,F=x(),t=F.current.requestFullscreen||F.current.mozRequestFullScreen||F.current.webkitRequestFullScreen||F.current.msRequestFullscreen,a=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?(a.call(e),s(!1)):(t.call(F.current),s(!0))};return F?Object(n.jsx)("div",{className:"fullscreen-toggle fullscreen-toggle--fullscreen",children:Object(n.jsx)("img",{className:"fullscreen-toggle__img",src:"./svg/fullscreen-exit-btn.svg",alt:"Exit fullscreen button",onClick:a})}):Object(n.jsx)("div",{className:"fullscreen-toggle",children:Object(n.jsx)("img",{className:"fullscreen-toggle__img",src:"./svg/fullscreen-btn.svg",alt:"Fullscreen button",onClick:a})})}F(12);function l(e){let{room:x,whoIsTyping:F,members:t}=e;const s=F.users.join(", ").length>60;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"chat__header",children:Object(n.jsxs)("h1",{className:"header__heading",children:["Scaledrone Chat - ",Object(n.jsx)("span",{className:"header__room",children:x}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:"header__typing",children:s?`${F.users.slice(0,1)} and ${F.users.length-1} others are typing...`:1===F.users.length?F.users+" is typing...":2===F.users.length?F.users.join(" and ")+" are typing...":3===F.users.length?`${F.users.slice(0,F.users.length-1).join(", ")} and ${F.users[F.users.length-1]} are typing...`:F.users.length>3?`${F.users.slice(0,2).join(", ")} and ${F.users.length-2} others are typing...`:null})]})}),Object(n.jsxs)("div",{className:"onlineMembers-container",children:[Object(n.jsx)("span",{children:"Online:"}),Object(n.jsx)("ul",{className:"onlineMembers",children:t.map((e=>Object(n.jsxs)("li",{className:"onlineMembers__member",children:[e.clientData.color?Object(n.jsx)("span",{className:"onlineMembers__color",style:{backgroundColor:e.clientData.color}}):Object(n.jsx)("img",{className:"onlineMembers__avatar",src:e.clientData.avatar,alt:"user-avatar"}),Object(n.jsx)("span",{children:e.clientData.username})]},e.id)))})]})]})}F(13),F(14);function o(){const e=["autumn","hidden","bitter","misty","silent","empty","dry","dark","summer","icy","delicate","quiet","white","cool","spring","winter","patient","twilight","dawn","crimson","wispy","weathered","blue","billowing","broken","cold","damp","falling","frosty","green","long","late","lingering","bold","little","morning","muddy","old","red","rough","still","small","sparkling","throbbing","shy","wandering","withered","wild","black","young","holy","solitary","fragrant","aged","snowy","proud","floral","restless","divine","polished","ancient","purple","lively","nameless"],x=["waterfall","river","breeze","moon","rain","wind","sea","morning","snow","lake","sunset","pine","shadow","leaf","dawn","glitter","forest","hill","cloud","meadow","sun","glade","bird","brook","butterfly","bush","dew","dust","field","fire","flower","firefly","feather","grass","haze","mountain","night","pond","darkness","snowflake","silence","sound","sky","shape","surf","thunder","violet","water","wildflower","wave","water","resonance","sun","wood","dream","cherry","tree","fog","frost","voice","paper","frog","smoke","star"];return e[Math.floor(Math.random()*e.length)]+x[Math.floor(Math.random()*x.length)]}const c=(e,x)=>{const F=new Date(1e3*e);switch(x){default:case"time":return`${F.getHours().toString().padStart(2,"0")}:${F.getMinutes().toString().padStart(2,"0")}`;case"date":return F.toLocaleDateString()}},i="data:audio/mpeg;base64,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",m=["&#x231A;","&#x1F550;","&#x1F551;","&#x1F552;","&#x1F553;","&#x1F554;","&#x1F555;","&#x1F556;","&#x1F557;","&#x1F558;","&#x1F559;","&#x1F55A;","&#x1F55B;","&#x1F55C;","&#x1F55D;","&#x1F55E;","&#x1F55F;","&#x1F560;","&#x1F561;","&#x1F562;","&#x1F563;","&#x1F564;","&#x1F565;","&#x1F566;","&#x1F567;","&#x231B;","&#x23E9;","&#x23EA;","&#x23EB;","&#x23EC;","&#x23ED;","&#x23EE;","&#x23EF;","&#x23F0;","&#x23F1;","&#x23F2;","&#x23F3;","&#x23F8;","&#x23F9;","&#x23FA;","&#x24C2;","&#x2614;","&#x2615;","&#x261D;","&#x2648;","&#x2649;","&#x264A;","&#x264B;","&#x264C;","&#x264D;","&#x264E;","&#x264F;","&#x2650;","&#x2651;","&#x2652;","&#x2653;","&#x265F;","&#x267F;","&#x2693;","&#x26A1;","&#x26AA;","&#x26AB;","&#x26BD;","&#x26BE;","&#x26C4;","&#x26C5;","&#x26CE;","&#x26CF;","&#x26D1;","&#x26D3;","&#x26D4;","&#x26E9;","&#x26EA;","&#x26F0;","&#x26F1;","&#x26F2;","&#x26F3;","&#x26F4;","&#x26F5;","&#x26F7;","&#x26F8;","&#x26F9;","&#x26FA;","&#x26FD;","&#x2702;","&#x2705;","&#x2708;","&#x2709;","&#x270A;","&#x270B;","&#x270C;","&#x270D;","&#x270F;","&#x2712;","&#x2728;","&#x2716;","&#x271D;","&#x2721;","&#x2714;","&#x2733;","&#x2734;","&#x2744;","&#x2747;","&#x274C;","&#x274E;","&#x2753;","&#x2754;","&#x2755;","&#x2757;","&#x2763;","&#x2764;","&#x2795;","&#x2796;","&#x2797;","&#x27A1;","&#x27B0;","&#x27BF;","&#x2934;","&#x2935;","&#x2B05;","&#x2B06;","&#x2B07;","&#x2B1B;","&#x2B1C;","&#x2B50;","&#x2B55;","&#x3030;","&#x303D;","&#x3297;","&#x3299;","&#x1F004;","&#x1F0CF;","&#x1F170;","&#x1F171;","&#x1F17E;","&#x1F17F;","&#x1F18E;","&#x1F191;","&#x1F192;","&#x1F193;","&#x1F194;","&#x1F195;","&#x1F196;","&#x1F197;","&#x1F198;","&#x1F199;","&#x1F19A;","&#x1F201;","&#x1F202;","&#x1F21A;","&#x1F22F;","&#x1F232;","&#x1F233;","&#x1F234;","&#x1F235;","&#x1F236;","&#x1F237;","&#x1F238;","&#x1F239;","&#x1F23A;","&#x1F250;","&#x1F251;","&#x1F300;","&#x1F301;","&#x1F302;","&#x1F303;","&#x1F304;","&#x1F305;","&#x1F306;","&#x1F307;","&#x1F308;","&#x1F309;","&#x1F30A;","&#x1F30B;","&#x1F30C;","&#x1F30D;","&#x1F30E;","&#x1F30F;","&#x1F310;","&#x1F311;","&#x1F312;","&#x1F313;","&#x1F314;","&#x1F315;","&#x1F316;","&#x1F317;","&#x1F318;","&#x1F319;","&#x1F31A;","&#x1F31B;","&#x1F31C;","&#x1F31D;","&#x1F31E;","&#x1F31F;","&#x1F320;","&#x1F321;","&#x1F324;","&#x1F325;","&#x1F326;","&#x1F327;","&#x1F328;","&#x1F329;","&#x1F32A;","&#x1F32B;","&#x1F32C;","&#x1F32D;","&#x1F32E;","&#x1F32F;","&#x1F330;","&#x1F331;","&#x1F332;","&#x1F333;","&#x1F334;","&#x1F335;","&#x1F336;","&#x1F337;","&#x1F338;","&#x1F339;","&#x1F33A;","&#x1F33B;","&#x1F33C;","&#x1F33D;","&#x1F33E;","&#x1F33F;","&#x1F340;","&#x1F341;","&#x1F342;","&#x1F343;","&#x1F344;","&#x1F345;","&#x1F346;","&#x1F347;","&#x1F348;","&#x1F349;","&#x1F34A;","&#x1F34B;","&#x1F34C;","&#x1F34D;","&#x1F34E;","&#x1F34F;","&#x1F350;","&#x1F351;","&#x1F352;","&#x1F353;","&#x1F354;","&#x1F355;","&#x1F356;","&#x1F357;","&#x1F358;","&#x1F359;","&#x1F35A;","&#x1F35B;","&#x1F35C;","&#x1F35D;","&#x1F35E;","&#x1F35F;","&#x1F360;","&#x1F361;","&#x1F362;","&#x1F363;","&#x1F364;","&#x1F365;","&#x1F366;","&#x1F367;","&#x1F368;","&#x1F369;","&#x1F36A;","&#x1F36B;","&#x1F36C;","&#x1F36D;","&#x1F36E;","&#x1F36F;","&#x1F370;","&#x1F371;","&#x1F372;","&#x1F373;","&#x1F374;","&#x1F375;","&#x1F376;","&#x1F377;","&#x1F378;","&#x1F379;","&#x1F37A;","&#x1F37B;","&#x1F37C;","&#x1F37D;","&#x1F37E;","&#x1F37F;","&#x1F380;","&#x1F381;","&#x1F382;","&#x1F383;","&#x1F384;","&#x1F385;","&#x1F386;","&#x1F387;","&#x1F388;","&#x1F389;","&#x1F38A;","&#x1F38B;","&#x1F38C;","&#x1F38D;","&#x1F38E;","&#x1F38F;","&#x1F390;","&#x1F391;","&#x1F392;","&#x1F393;","&#x1F396;","&#x1F397;","&#x1F399;","&#x1F39A;","&#x1F39B;","&#x1F39E;","&#x1F39F;","&#x1F3A0;","&#x1F3A1;","&#x1F3A2;","&#x1F3A3;","&#x1F3B5;","&#x1F3A5;","&#x1F3A6;","&#x1F3A7;","&#x1F3A8;","&#x1F3A9;","&#x1F3AA;","&#x1F3AB;","&#x1F3AC;","&#x1F3AD;","&#x1F3AE;","&#x1F3AF;","&#x1F3B0;","&#x1F3B1;","&#x1F3B2;","&#x1F3B3;","&#x1F3B4;","&#x1F3A4;","&#x1F3B6;","&#x1F3B7;","&#x1F3B8;","&#x1F3B9;","&#x1F3BA;","&#x1F3BB;","&#x1F3BC;","&#x1F3BD;","&#x1F3BE;","&#x1F3BF;","&#x1F3C0;","&#x1F3C1;","&#x1F3C2;","&#x1F3C3;","&#x1F3C4;","&#x1F3C5;","&#x1F3C6;","&#x1F3C7;","&#x1F3C8;","&#x1F3C9;","&#x1F3CA;","&#x1F3CB;","&#x1F3CC;","&#x1F3CD;","&#x1F3CE;","&#x1F3CF;","&#x1F3D0;","&#x1F3D1;","&#x1F3D2;","&#x1F3D3;","&#x1F3D4;","&#x1F3D5;","&#x1F3D6;","&#x1F3D7;","&#x1F3D8;","&#x1F3D9;","&#x1F3DA;","&#x1F3DB;","&#x1F3DC;","&#x1F3DD;","&#x1F3DE;","&#x1F3DF;","&#x1F3E0;","&#x1F3E1;","&#x1F3E2;","&#x1F3E3;","&#x1F3E4;","&#x1F3E5;","&#x1F3E6;","&#x1F3E7;","&#x1F3E8;","&#x1F3E9;","&#x1F3EA;","&#x1F3EB;","&#x1F3EC;","&#x1F3ED;","&#x1F3EE;","&#x1F3EF;","&#x1F3F0;","&#x1F3F3;","&#x1F3F4;","&#x1F3F5;","&#x1F3F7;","&#x1F3F8;","&#x1F3F9;","&#x1F3FA;","&#x1F3FB;","&#x1F3FC;","&#x1F3FD;","&#x1F3FE;","&#x1F3FF;","&#x1F40C;","&#x1F400;","&#x1F401;","&#x1F402;","&#x1F403;","&#x1F404;","&#x1F405;","&#x1F406;","&#x1F407;","&#x1F408;","&#x1F409;","&#x1F40A;","&#x1F40B;","&#x1F40D;","&#x1F40E;","&#x1F40F;","&#x1F410;","&#x1F411;","&#x1F412;","&#x1F413;","&#x1F414;","&#x1F415;","&#x1F416;","&#x1F417;","&#x1F418;","&#x1F419;","&#x1F41A;","&#x1F41B;","&#x1F41C;","&#x1F41D;","&#x1F41E;","&#x1F41F;","&#x1F420;","&#x1F421;","&#x1F422;","&#x1F423;","&#x1F424;","&#x1F425;","&#x1F426;","&#x1F427;","&#x1F428;","&#x1F429;","&#x1F42A;","&#x1F42B;","&#x1F42C;","&#x1F42D;","&#x1F42E;","&#x1F42F;","&#x1F430;","&#x1F431;","&#x1F432;","&#x1F433;","&#x1F434;","&#x1F435;","&#x1F436;","&#x1F437;","&#x1F438;","&#x1F439;","&#x1F43A;","&#x1F43B;","&#x1F43C;","&#x1F43D;","&#x1F43E;","&#x1F43F;","&#x1F440;","&#x1F441;","&#x1F44D;","&#x1F442;","&#x1F443;","&#x1F444;","&#x1F445;","&#x1F446;","&#x1F447;","&#x1F448;","&#x1F449;","&#x1F44A;","&#x1F44B;","&#x1F44C;","&#x1F44E;","&#x1F44F;","&#x1F450;","&#x1F451;","&#x1F452;","&#x1F453;","&#x1F454;","&#x1F455;","&#x1F456;","&#x1F457;","&#x1F458;","&#x1F459;","&#x1F45A;","&#x1F45B;","&#x1F45C;","&#x1F45D;","&#x1F45E;","&#x1F45F;","&#x1F460;","&#x1F461;","&#x1F462;","&#x1F463;","&#x1F464;","&#x1F465;","&#x1F466;","&#x1F467;","&#x1F468;","&#x1F469;","&#x1F46A;","&#x1F46B;","&#x1F46C;","&#x1F46D;","&#x1F46E;","&#x1F46F;","&#x1F470;","&#x1F471;","&#x1F472;","&#x1F473;","&#x1F474;","&#x1F475;","&#x1F476;","&#x1F477;","&#x1F478;","&#x1F479;","&#x1F47A;","&#x1F47B;","&#x1F47C;","&#x1F47D;","&#x1F47E;","&#x1F47F;","&#x1F480;","&#x1F481;","&#x1F482;","&#x1F483;","&#x1F484;","&#x1F485;","&#x1F486;","&#x1F487;","&#x1F488;","&#x1F489;","&#x1F48A;","&#x1F48B;","&#x1F48C;","&#x1F48D;","&#x1F48E;","&#x1F48F;","&#x1F490;","&#x1F491;","&#x1F492;","&#x1F495;","&#x1F494;","&#x1F493;","&#x1F496;","&#x1F497;","&#x1F498;","&#x1F499;","&#x1F49A;","&#x1F49B;","&#x1F49C;","&#x1F49D;","&#x1F49E;","&#x1F49F;","&#x1F4A0;","&#x1F4A1;","&#x1F4A2;","&#x1F4A3;","&#x1F4A4;","&#x1F4A5;","&#x1F4A6;","&#x1F4A7;","&#x1F4A8;","&#x1F4A9;","&#x1F4AA;","&#x1F4AB;","&#x1F4AC;","&#x1F4AD;","&#x1F4AE;","&#x1F4AF;","&#x1F4B0;","&#x1F4B1;","&#x1F4B2;","&#x1F4B3;","&#x1F4B4;","&#x1F4B5;","&#x1F4B6;","&#x1F4B7;","&#x1F4B8;","&#x1F4B9;","&#x1F4BA;","&#x1F4BB;","&#x1F4BC;","&#x1F4BD;","&#x1F4BE;","&#x1F4BF;","&#x1F4C0;","&#x1F4C1;","&#x1F4C2;","&#x1F4C3;","&#x1F4C4;","&#x1F4C5;","&#x1F4C6;","&#x1F4C7;","&#x1F4C8;","&#x1F4C9;","&#x1F4CA;","&#x1F4CB;","&#x1F4CC;","&#x1F4CD;","&#x1F4CE;","&#x1F4CF;","&#x1F4D0;","&#x1F4D1;","&#x1F4D2;","&#x1F4D3;","&#x1F4D4;","&#x1F4D5;","&#x1F4D6;","&#x1F4D7;","&#x1F4D8;","&#x1F4D9;","&#x1F4DA;","&#x1F4DB;","&#x1F4DC;","&#x1F4DD;","&#x1F4DE;","&#x1F4DF;","&#x1F4E0;","&#x1F4E1;","&#x1F4E2;","&#x1F4E3;","&#x1F4E4;","&#x1F4E5;","&#x1F4E6;","&#x1F4E7;","&#x1F4E8;","&#x1F4E9;","&#x1F4EA;","&#x1F4EB;","&#x1F4EC;","&#x1F4ED;","&#x1F4EE;","&#x1F4EF;","&#x1F4F0;","&#x1F4F1;","&#x1F4F2;","&#x1F4F3;","&#x1F4F4;","&#x1F4F5;","&#x1F4F6;","&#x1F4F7;","&#x1F4F8;","&#x1F4F9;","&#x1F4FA;","&#x1F4FB;","&#x1F4FC;","&#x1F4FD;","&#x1F4FF;","&#x1F500;","&#x1F501;","&#x1F502;","&#x1F503;","&#x1F504;","&#x1F505;","&#x1F506;","&#x1F507;","&#x1F508;","&#x1F509;","&#x1F50A;","&#x1F50B;","&#x1F50C;","&#x1F50D;","&#x1F50E;","&#x1F50F;","&#x1F510;","&#x1F511;","&#x1F512;","&#x1F513;","&#x1F514;","&#x1F515;","&#x1F516;","&#x1F517;","&#x1F518;","&#x1F519;","&#x1F51A;","&#x1F51B;","&#x1F51C;","&#x1F51D;","&#x1F51E;","&#x1F51F;","&#x1F520;","&#x1F521;","&#x1F522;","&#x1F523;","&#x1F524;","&#x1F525;","&#x1F526;","&#x1F527;","&#x1F528;","&#x1F529;","&#x1F52A;","&#x1F52B;","&#x1F52C;","&#x1F52D;","&#x1F52E;","&#x1F52F;","&#x1F530;","&#x1F531;","&#x1F532;","&#x1F533;","&#x1F534;","&#x1F535;","&#x1F536;","&#x1F537;","&#x1F538;","&#x1F539;","&#x1F53A;","&#x1F53B;","&#x1F53C;","&#x1F53D;","&#x1F549;","&#x1F54A;","&#x1F54B;","&#x1F54C;","&#x1F54D;","&#x1F54E;","&#x1F56F;","&#x1F570;","&#x1F573;","&#x1F574;","&#x1F575;","&#x1F576;","&#x1F577;","&#x1F578;","&#x1F579;","&#x1F57A;","&#x1F587;","&#x1F58A;","&#x1F58B;","&#x1F58C;","&#x1F58D;","&#x1F590;","&#x1F595;","&#x1F596;","&#x1F5A4;","&#x1F5A5;","&#x1F5A8;","&#x1F5B1;","&#x1F5B2;","&#x1F5BC;","&#x1F5C2;","&#x1F5C3;","&#x1F5C4;","&#x1F5D1;","&#x1F5D2;","&#x1F5D3;","&#x1F5DC;","&#x1F5DD;","&#x1F5DE;","&#x1F5E1;","&#x1F5E3;","&#x1F5E8;","&#x1F5EF;","&#x1F5F3;","&#x1F5FA;","&#x1F5FB;","&#x1F5FC;","&#x1F5FD;","&#x1F5FE;","&#x1F5FF;","&#x1F600;","&#x1F601;","&#x1F602;","&#x1F603;","&#x1F604;","&#x1F605;","&#x1F606;","&#x1F607;","&#x1F608;","&#x1F609;","&#x1F60A;","&#x1F60B;","&#x1F60C;","&#x1F60D;","&#x1F60E;","&#x1F60F;","&#x1F610;","&#x1F611;","&#x1F612;","&#x1F613;","&#x1F614;","&#x1F615;","&#x1F616;","&#x1F617;","&#x1F618;","&#x1F619;","&#x1F61A;","&#x1F61B;","&#x1F61C;","&#x1F61D;","&#x1F61E;","&#x1F61F;","&#x1F620;","&#x1F621;","&#x1F622;","&#x1F623;","&#x1F624;","&#x1F625;","&#x1F626;","&#x1F627;","&#x1F628;","&#x1F629;","&#x1F62A;","&#x1F62B;","&#x1F62C;","&#x1F62D;","&#x1F62E;","&#x1F62F;","&#x1F630;","&#x1F631;","&#x1F632;","&#x1F633;","&#x1F634;","&#x1F635;","&#x1F636;","&#x1F637;","&#x1F638;","&#x1F639;","&#x1F63A;","&#x1F63B;","&#x1F63C;","&#x1F63D;","&#x1F63E;","&#x1F63F;","&#x1F640;","&#x1F641;","&#x1F642;","&#x1F643;","&#x1F644;","&#x1F645;","&#x1F646;","&#x1F647;","&#x1F648;","&#x1F649;","&#x1F64A;","&#x1F64B;","&#x1F64C;","&#x1F64D;","&#x1F64E;","&#x1F64F;","&#x1F910;","&#x1F911;","&#x1F912;","&#x1F913;","&#x1F914;","&#x1F915;","&#x1F916;","&#x1F917;","&#x1F918;","&#x1F919;","&#x1F91A;","&#x1F91B;","&#x1F91C;","&#x1F91D;","&#x1F91E;","&#x1F91F;","&#x1F920;","&#x1F921;","&#x1F922;","&#x1F923;","&#x1F924;","&#x1F925;","&#x1F926;","&#x1F927;","&#x1F928;","&#x1F929;","&#x1F92A;","&#x1F92B;","&#x1F92C;","&#x1F92D;","&#x1F92E;","&#x1F92F;","&#x1F930;","&#x1F931;","&#x1F932;","&#x1F933;","&#x1F934;","&#x1F935;","&#x1F936;","&#x1F937;","&#x1F938;","&#x1F939;","&#x1F93A;","&#x1F93C;","&#x1F93D;","&#x1F93E;","&#x1F940;","&#x1F941;","&#x1F942;","&#x1F943;","&#x1F944;","&#x1F945;","&#x1F680;","&#x1F681;","&#x1F682;","&#x1F683;","&#x1F684;","&#x1F685;","&#x1F686;","&#x1F687;","&#x1F688;","&#x1F689;","&#x1F68A;","&#x1F68B;","&#x1F68C;","&#x1F68D;","&#x1F68E;","&#x1F68F;","&#x1F690;","&#x1F691;","&#x1F692;","&#x1F693;","&#x1F694;","&#x1F695;","&#x1F696;","&#x1F697;","&#x1F698;","&#x1F699;","&#x1F69A;","&#x1F69B;","&#x1F69C;","&#x1F69D;","&#x1F69E;","&#x1F69F;","&#x1F6A0;","&#x1F6A1;","&#x1F6A2;","&#x1F6A3;","&#x1F6A4;","&#x1F6A5;","&#x1F6A6;","&#x1F6A7;","&#x1F6A8;","&#x1F6A9;","&#x1F6AA;","&#x1F6AB;","&#x1F6AC;","&#x1F6AD;","&#x1F6AE;","&#x1F6AF;","&#x1F6B0;","&#x1F6B1;","&#x1F6B2;","&#x1F6B3;","&#x1F6B4;","&#x1F6B5;","&#x1F6B6;","&#x1F6B7;","&#x1F6B8;","&#x1F6B9;","&#x1F6BA;","&#x1F6BB;","&#x1F6BC;","&#x1F6BD;","&#x1F6BE;","&#x1F6BF;","&#x1F6C0;","&#x1F6C1;","&#x1F6C2;","&#x1F6C3;","&#x1F6C4;","&#x1F6C5;","&#x1F6CB;","&#x1F6CC;","&#x1F6CD;","&#x1F6CE;","&#x1F6CF;","&#x1F6D0;","&#x1F6D1;","&#x1F6D2;","&#x1F6E0;","&#x1F6E1;","&#x1F6E2;","&#x1F6E3;","&#x1F6E4;","&#x1F6E5;","&#x1F6E9;","&#x1F6EB;","&#x1F6EC;","&#x1F6F0;","&#x1F6F3;","&#x1F6F4;","&#x1F6F5;","&#x1F6F6;","&#x1F6F7;","&#x1F6F8;","&#x1F6F9;","&#x1F6FA;","&#x1F947;","&#x1F948;","&#x1F949;","&#x1F94A;","&#x1F94B;","&#x1F94C;","&#x1F94D;","&#x1F94E;","&#x1F94F;","&#x1F950;","&#x1F951;","&#x1F952;","&#x1F953;","&#x1F954;","&#x1F955;","&#x1F956;","&#x1F957;","&#x1F958;","&#x1F959;","&#x1F95A;","&#x1F95B;","&#x1F95C;","&#x1F95D;","&#x1F95E;","&#x1F95F;","&#x1F960;","&#x1F961;","&#x1F962;","&#x1F963;","&#x1F964;","&#x1F965;","&#x1F966;","&#x1F967;","&#x1F968;","&#x1F969;","&#x1F96A;","&#x1F96B;","&#x1F980;","&#x1F981;","&#x1F982;","&#x1F983;","&#x1F984;","&#x1F985;","&#x1F986;","&#x1F987;","&#x1F988;","&#x1F989;","&#x1F98A;","&#x1F98B;","&#x1F98C;","&#x1F98D;","&#x1F98E;","&#x1F98F;","&#x1F990;","&#x1F991;","&#x1F992;","&#x1F993;","&#x1F994;","&#x1F995;","&#x1F996;","&#x1F997;","&#x1F9C0;","&#x1F9D0;","&#x1F9D1;","&#x1F9D2;","&#x1F9D3;","&#x1F9D4;","&#x1F9D5;","&#x1F9D6;","&#x1F9D7;","&#x1F9D8;","&#x1F9D9;","&#x1F9DA;","&#x1F9DB;","&#x1F9DC;","&#x1F9DD;","&#x1F9DE;","&#x1F9DF;","&#x1F9E0;","&#x1F9E1;","&#x1F9E2;","&#x1F9E3;","&#x1F9E4;","&#x1F9E5;","&#x1F9E6;"],d=["&#x231A;","&#x2728;","&#x1F32D;","&#x1F3B5;","&#x1F40C;","&#x1F44D;","&#x1F495;","&#x1F600;","&#x1F680;","&#x1F947;"];function g(e){let{insertEmoji:x,className:F}=e;const[s,a]=Object(t.useState)(d[7]);let A=[m.indexOf(s),m.indexOf(d[d.indexOf(s)+1])];function r(e){return{__html:e}}return d.indexOf(s)===d.length-1&&(A[1]=void 0),Object(n.jsxs)("div",{className:F,children:[Object(n.jsx)("div",{className:"emoji-tab",onMouseDown:e=>e.preventDefault(),children:d.map(((e,x)=>Object(n.jsx)("span",{className:e===s?"emoji-tab__span emoji-tab__span--selected":"emoji-tab__span",role:"img","aria-label":e,onMouseDown:x=>function(e,x){e.preventDefault(),a(x)}(x,e),dangerouslySetInnerHTML:r(e)},x)))}),Object(n.jsx)("ul",{className:"emoji-list",onMouseDown:e=>e.preventDefault(),children:m.slice(A[0],A[1]).map((e=>Object(n.jsx)("li",{className:"emoji-list__item",onMouseDown:e=>e.preventDefault(),children:Object(n.jsx)("span",{role:"img","aria-label":e,onMouseDown:x,dangerouslySetInnerHTML:r(e)})},e)))})]})}function u(e){let{sendMessage:x,thisMember:F}=e;const s=["Enter your message...","You need to type something first..."],a=["emoji-container emoji-container--hide","emoji-container emoji-container--show"],A={text:"",placeholder:s[0]},[r,l]=Object(t.useState)(A),[o,c]=Object(t.useState)(a[0]);let i;Object(t.useEffect)((()=>i.focus()),[o,i]);const m=Object(t.useRef)(null),d=e=>{const t=`${F.id} ${F.username} ${e}`;x({room:`observable-${F.room}`,message:t})};function u(e){if(e.preventDefault(),""===r.text)l({...r,placeholder:s[1]});else{const e=r.text;x({room:`observable-${F.room}`,message:e}),l({text:"",placeholder:s[0]})}}return Object(t.useEffect)((()=>{r.text&&i===document.activeElement&&(null!==m.current?clearTimeout(m.current):d("1"),m.current=setTimeout((()=>{m.current=null,d("0")}),1e3))}),[r]),Object(n.jsxs)("div",{className:"chat__input",children:[Object(n.jsx)(g,{insertEmoji:function(e){e.preventDefault();const x=r.text+e.target.innerHTML;l({...r,text:x})},className:o}),Object(n.jsxs)("form",{className:"msg-form",onSubmit:u,children:[Object(n.jsx)("button",{className:"msg-form__emoji-btn",type:"button",onMouseDown:function(e){e.preventDefault(),c(o===a[0]?a[1]:a[0])},children:Object(n.jsx)("img",{src:"../svg/emoticon.svg",alt:"emoticon",width:"24"})}),Object(n.jsx)("input",{className:"msg-form__input",value:r.text,type:"text",placeholder:r.placeholder,ref:e=>{i=e},autoFocus:!0,onChange:function(e){l({...r,text:e.target.value})},onBlur:function(){l({...r,placeholder:s[0]}),c(a[0])}}),Object(n.jsx)("button",{type:"button",className:"msg-form__btn",onMouseDown:u,children:Object(n.jsx)("img",{src:"../svg/send-message.svg",alt:"send-message",width:"24"})})]})]})}F(15);function h(){return Object(n.jsx)("div",{className:"loader-container",children:Object(n.jsxs)("svg",{className:"tea",width:"37",height:"48",viewBox:"0 0 37 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M27.0819 17H3.02508C1.91076 17 1.01376 17.9059 1.0485 19.0197C1.15761 22.5177 1.49703 29.7374 2.5 34C4.07125 40.6778 7.18553 44.8868 8.44856 46.3845C8.79051 46.79 9.29799 47 9.82843 47H20.0218C20.639 47 21.2193 46.7159 21.5659 46.2052C22.6765 44.5687 25.2312 40.4282 27.5 34C28.9757 29.8188 29.084 22.4043 29.0441 18.9156C29.0319 17.8436 28.1539 17 27.0819 17Z",stroke:"var(--secondary)",strokeWidth:"2"}),Object(n.jsx)("path",{d:"M29 23.5C29 23.5 34.5 20.5 35.5 25.4999C36.0986 28.4926 34.2033 31.5383 32 32.8713C29.4555 34.4108 28 34 28 34",stroke:"var(--secondary)",strokeWidth:"2"}),Object(n.jsx)("path",{id:"teabag",fill:"var(--secondary)",fillRule:"evenodd",clipRule:"evenodd",d:"M16 25V17H14V25H12C10.3431 25 9 26.3431 9 28V34C9 35.6569 10.3431 37 12 37H18C19.6569 37 21 35.6569 21 34V28C21 26.3431 19.6569 25 18 25H16ZM11 28C11 27.4477 11.4477 27 12 27H18C18.5523 27 19 27.4477 19 28V34C19 34.5523 18.5523 35 18 35H12C11.4477 35 11 34.5523 11 34V28Z"}),Object(n.jsx)("path",{id:"steamL",d:"M17 1C17 1 17 4.5 14 6.5C11 8.5 11 12 11 12",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"var(--secondary)"}),Object(n.jsx)("path",{id:"steamR",d:"M21 6C21 6 21 8.22727 19 9.5C17 10.7727 17 13 17 13",stroke:"var(--secondary)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}F(16);const b={chatrooms:["technology","arts","sports","family","pets","general"]},j=(e,x)=>{e.target.checked?(x("light"),localStorage.setItem("theme","light")):(x("dark"),localStorage.setItem("theme","dark"))},C=(e,x)=>{e.target.checked?(x(!0),localStorage.setItem("saveChat",!0)):(x(!1),localStorage.setItem("saveChat",!1))},D=(e,x)=>{e.target.checked?(x(!0),localStorage.setItem("showHistory",!0)):(x(!1),localStorage.setItem("showHistory",!1))},E=(e,x,F,t)=>{localStorage.clear(),e.close(),x(null),F({member:{username:"",avatar:"",room:"",color:""},messages:[]}),t(!1)},p=(e,x,F,t,s,a)=>{x.member.room===e?console.log("You are already in this room!"):(F.unsubscribe(`observable-${x.member.room}`),t(!1),x.messages.forEach((e=>e.previous=!0)),x.member.room=e,s({...x},x.member.room,x.messages),a(!0))},B=(e,x,F)=>{e&&(localStorage.setItem("username",x.member.username),localStorage.setItem("avatar",x.member.avatar),localStorage.setItem("room",x.member.room),localStorage.setItem("color",x.member.color),x.messages.map((e=>(e.member.id===x.member.id&&(e.from_me=!0),e.history=!0,e))),localStorage.setItem("messages",JSON.stringify(x.messages))),F.close(),window.open("about:blank","_self"),window.close()};function _(e){let{chatTheme:x,setChatTheme:F,saveChat:s,setSaveChat:a,showHistory:A,setShowHistory:r,chat:l,setChat:o,drone:c,setDrone:i,setRoomReady:m,setRoomChange:d}=e;const[g,u]=Object(t.useState)(!1),h=g?"main-nav__room-list-item":"main-nav__room-list-item--hide",_=[l,c,m,o,d];return Object(n.jsx)("nav",{className:"main-nav",role:"navigation",children:Object(n.jsxs)("div",{className:"main-nav__menu-toggle",children:[Object(n.jsx)("input",{className:"main-nav__input",type:"checkbox"}),Object(n.jsx)("span",{className:"main-nav__span"}),Object(n.jsx)("span",{className:"main-nav__span"}),Object(n.jsx)("span",{className:"main-nav__span"}),Object(n.jsxs)("ul",{className:"main-nav__menu",children:[Object(n.jsxs)("li",{className:"main-nav__menu-item",children:["Dark/Light theme",Object(n.jsxs)("label",{className:"switch",children:["dark"===x?Object(n.jsx)("input",{className:"switch-input",type:"checkbox",onChange:e=>j(e,F)}):Object(n.jsx)("input",{className:"switch-input",type:"checkbox",defaultChecked:!0,onChange:e=>j(e,F)}),Object(n.jsx)("span",{className:"slider--theme round"})]})]},"1"),Object(n.jsxs)("li",{className:"main-nav__menu-item",children:["Save chat on exit",Object(n.jsxs)("label",{className:"switch",children:[s?Object(n.jsx)("input",{className:"switch-input",type:"checkbox",defaultChecked:!0,onChange:e=>C(e,a)}):Object(n.jsx)("input",{className:"switch-input",type:"checkbox",onChange:e=>C(e,a)}),Object(n.jsx)("span",{className:"slider round"})]})]},"2"),Object(n.jsxs)("li",{className:"main-nav__menu-item",children:["Show chat history",Object(n.jsxs)("label",{className:"switch",children:[A?Object(n.jsx)("input",{className:"switch-input",type:"checkbox",defaultChecked:!0,onChange:e=>D(e,r)}):Object(n.jsx)("input",{className:"switch-input",type:"checkbox",onChange:e=>D(e,r)}),Object(n.jsx)("span",{className:"slider round"})]})]},"3"),Object(n.jsx)("li",{className:"main-nav__menu-item",children:Object(n.jsx)("span",{className:"main-nav__span-action",onClick:()=>E(c,i,o,m),children:"Reset profile"})},"4"),Object(n.jsx)("li",{className:"main-nav__menu-item",children:Object(n.jsxs)("ul",{className:"main-nav__room-list",children:[Object(n.jsx)("li",{className:g?"main-nav__room-list-header--highlight":"main-nav__room-list-header",onClick:()=>{u(!g)},children:"Change room"},"0"),b.chatrooms.map(((e,x)=>Object(n.jsx)("li",{"data-value":e,className:l.member.room===`${e}`?`${h} room--selected`:h,onClick:e=>p(e.target.dataset.value,..._),children:e},x+1)))]})},"5"),Object(n.jsx)("li",{className:"main-nav__menu-item",children:Object(n.jsx)("span",{className:"main-nav__span-action",onClick:()=>B(s,l,c),children:"Exit"})},"6")]})]})})}F(17);function O(e,x,F,t,s,a,A){const{member:n,id:r}=e,l=n.id===x.id||e.from_me||n.clientData.id===F;let o=l?"msg-list__msg msg-list__msg--thisMember":"msg-list__msg";e.history&&(o=o.concat(" history")),e.history&&!A&&(o=o.concat(" hide"));const c=l?"msg-list__member-data msg-list__member-data--thisMember":"msg-list__member-data",i=l?"msg-list__info-container msg-list__info-container--thisMember":"msg-list__info-container",m=l?"msg-list__text-container msg-list__text-container--thisMember":"msg-list__text-container";let d="";switch(t.msg_id.indexOf(n.id+"-"+r)>-1&&t.member_id.indexOf(n.id)>-1){case!0:d="dark"===s?"msg-list__timestamp":"msg-list__timestamp msg-list__timestamp--light";break;case!1:d=t.msg_id.indexOf(n.id+"-"+r)>-1||t.member_id.indexOf(n.id)>-1?"dark"===s?"msg-list__timestamp msg-list__timestamp--show":"msg-list__timestamp msg-list__timestamp--light msg-list__timestamp--show":"dark"===s?"msg-list__timestamp":"msg-list__timestamp msg-list__timestamp--light";break;default:d="dark"===s?"msg-list__timestamp":"msg-list__timestamp msg-list__timestamp--light"}let g=t.member_id.indexOf(n.id)>-1?"msg-list__time-info msg-list__time-info--open":"msg-list__time-info";switch(a){case"classNameMsg":return o;case"classNameMemberData":return c;case"classNameInfoContainer":return i;case"classNameTextContainer":return m;case"classNameTimestamp":return d;case"classNameTimeInfo":return g;default:return}}function f(e){let{messages:x,thisMember:F,initialMemberId:s,chatTheme:a,showHistory:A}=e;const[r,l]=Object(t.useState)({member_id:[],msg_id:[]}),o=x.filter((e=>e.member.clientData.room===F.room));let m="";const d=Object(t.useRef)();function g(e,x){!function(e,x,F,t){const s=x?F.msg_id.indexOf(e+"-"+x):F.member_id.indexOf(e),a=[];if(s<0){for(let x=0;x<F.msg_id.length;x++)-1===F.msg_id[x].indexOf(e)&&a.push(F.msg_id[x]);x?t({...F},F.msg_id.push(e+"-"+x)):t({...F},F.member_id.push(e),F.msg_id.splice(0,F.msg_id.length,...a))}else{for(let x=0;x<F.msg_id.length;x++)-1===F.msg_id[x].indexOf(e)&&a.push(F.msg_id[x]);x?t({...F},F.msg_id.splice(s,1)):t({...F},F.member_id.splice(s,1),F.msg_id.splice(0,F.msg_id.length,...a))}}(e,x,r,l)}return Object(t.useEffect)((()=>{d.current.scrollIntoView()}),[x.length]),Object(n.jsxs)("ul",{className:"dark"===a?"msg-list":"msg-list msg-list--light",children:[o.map((e=>function(e){const{member:x,data:t,timestamp:l,id:o}=e,d=[e,F,s,r,a],u=Object(n.jsxs)("div",{className:O(...d,"classNameMemberData"),children:[x.clientData.color?Object(n.jsx)("span",{className:"msg-list__avatar--random",style:{backgroundColor:x.clientData.color}}):Object(n.jsx)("img",{className:"msg-list__avatar",src:x.clientData.avatar,alt:"user-avatar"}),Object(n.jsxs)("div",{className:O(...d,"classNameInfoContainer"),children:[Object(n.jsx)("span",{className:"msg-list__username",children:x.clientData.username}),Object(n.jsx)("img",{className:O(...d,"classNameTimeInfo"),src:"./svg/time-info.svg",alt:"time-info",onClick:e=>g(x.id,!1)})]})]}),h=Object(n.jsxs)("div",{className:O(...d,"classNameTextContainer"),onClick:e=>g(x.id,o),children:[Object(n.jsx)("div",{className:"dark"===a?"msg-list__text":"msg-list__text msg-list__text--light",title:c(l,"date"),children:t}),Object(n.jsx)("div",{className:O(...d,"classNameTimestamp"),children:c(l,"time").slice(0,5)})]}),b=m!==x.id?Object(n.jsxs)("li",{className:O(...d,"classNameMsg",A),"data-id":x.id,children:[e.history||e.previous?null:Object(n.jsx)("audio",{autoPlay:!0,src:i}),Object(n.jsxs)("div",{className:"msg-list__msg-container",children:[u,h]})]},o):Object(n.jsxs)("li",{className:O(...d,"classNameMsg",A),"data-id":x.id,children:[e.history||e.previous?null:Object(n.jsx)("audio",{autoPlay:!0,src:i}),h]},o);return m=x?x.id:null,b}(e))),Object(n.jsx)("div",{ref:d})]})}F(18),F(19);var q=function(e){let{random:x,getAvatar:F,avatarAnimation:t,avatarSelected:s}=e;const a=[];for(let A=1;A<=16;A++){const e=`../svg/avatar-${A}.svg`;a.push(e)}return Object(n.jsx)("ul",{className:"reg-form__avatar-list",children:a.map(((e,a)=>function(e,a){const A=`Avatar-${a}`;return Object(n.jsx)("li",{className:x?"reg-form__avatar reg-form__avatar--disabled":s===A?"reg-form__avatar reg-form__avatar--selected":t?"reg-form__avatar reg-form__avatar--animation":"reg-form__avatar",children:Object(n.jsx)("img",{src:e,alt:A,onClick:F})},a)}(e,a)))})};var v=function(e){let{chat:x,setChat:F}=e;const[s,a]=Object(t.useState)(""),[A,r]=Object(t.useState)(""),[l,c]=Object(t.useState)(!1),[i,m]=Object(t.useState)(""),[d,g]=Object(t.useState)(""),[u,h]=Object(t.useState)(!1);return Object(n.jsx)("div",{className:"form-container",children:Object(n.jsxs)("form",{className:"reg-form",onSubmit:e=>{e.preventDefault(),u?(x.member={username:o(),color:"#"+Math.floor(16777215*Math.random()).toString(16).padEnd(6,"0"),room:d},F({...x},x.member)):""===s?(c(!0),setTimeout((()=>{c(!1)}),800)):(x.member={username:A,avatar:s,room:d},F({...x},x.member))},children:[Object(n.jsx)("input",{className:"reg-form__txt-input",type:"text",placeholder:"Enter name...",pattern:"^(?!\\s*$).+",title:"Enter at least one word character.",maxLength:"15",required:!0,onChange:e=>{r(e.target.value)},value:A,disabled:!!u&&"disabled"}),Object(n.jsx)("span",{className:u?"reg-form__span reg-form__span--disabled":"reg-form__span",children:"Choose avatar:"}),Object(n.jsx)(q,{random:u,getAvatar:e=>{u||(a(e.target.src),m(e.target.alt))},avatarAnimation:l,avatarSelected:i}),Object(n.jsxs)("select",{className:"reg-form__room-select",name:"room",required:!0,value:d,onChange:e=>{g(e.target.value)},children:[Object(n.jsx)("option",{value:"",disabled:!0,children:"Choose room"},"0"),b.chatrooms.map(((e,x)=>Object(n.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},x+1)))]}),Object(n.jsx)("div",{className:"reg-form__random-checkbox",children:Object(n.jsxs)("label",{children:["Randomize name and color",Object(n.jsx)("input",{type:"checkbox",onClick:e=>{e.target.checked?(h(!0),r(""),a(""),m("")):h(!1)}})]})}),Object(n.jsx)("button",{className:"reg-form__btn",type:"submit",children:"Start chat"})]})})};function w(){const e=localStorage.username?{member:{username:localStorage.username,avatar:localStorage.avatar,room:localStorage.room,color:"undefined"!==localStorage.color?localStorage.color:""},messages:JSON.parse(localStorage.messages)}:{member:{username:"",avatar:"",room:"",color:""},messages:[]},[x,F]=Object(t.useState)(e),[s,a]=Object(t.useState)(!1),[A,o]=Object(t.useState)(null),[c,i]=Object(t.useState)(localStorage.theme?localStorage.theme:"dark"),[m,d]=Object(t.useState)(!localStorage.saveChat||JSON.parse(localStorage.saveChat)),[g,b]=Object(t.useState)(!localStorage.showHistory||JSON.parse(localStorage.showHistory)),[j,C]=Object(t.useState)(),[D,E]=Object(t.useState)({users:[]}),[p,B]=Object(t.useState)(null),[O,q]=Object(t.useState)({online:[]}),w=Object(t.useRef)();return Object(t.useEffect)((()=>{if(""!==x.member.username||localStorage.username){const e=new window.Scaledrone("RFAYQ0eMiO0WUMsD",{data:x.member});o(e)}}),[x.member]),Object(t.useEffect)((()=>{const e=()=>{const e=A.subscribe(`observable-${x.member.room}`);e.on("open",(e=>{e?console.error(e):(console.log("Connected to room"),a(!0))})),e.on("members",(e=>{O.online=e,q({...O})})),e.on("member_join",(e=>{O.online.push(e),q({...O})})),e.on("member_leave",(e=>{let{id:x}=e;const F=O.online.findIndex((e=>e.id===x));O.online.splice(F,1),q({...O})})),e.on("message",(e=>{t(e)}))},t=e=>{e.member.clientData.room=x.member.room,0===e.data.indexOf(e.clientId)||0===e.data.indexOf(e.member.clientData.id)?"1"===e.data.charAt(e.data.length-1)&&-1===e.data.indexOf(x.member.id)?(D.users.push(e.member.clientData.username),E({...D},D.users)):"0"===e.data.charAt(e.data.length-1)&&-1===e.data.indexOf(x.member.id)&&(D.users.splice(D.users.indexOf(e.member.clientData.username),1),E({...D},D.users)):(x.messages.push(e),F({...x},x.messages))};A&&!x.member.id&&(A.on("open",(t=>{if(t)return console.error(t);x.member.id=A.clientId,null===p&&B(A.clientId),localStorage.username&&(x.member.username=localStorage.username,x.member.avatar=localStorage.avatar,x.member.room=localStorage.room,x.member.color=localStorage.color),F({...x},x.member),e()})),A.on("error",(e=>console.error(e))),A.on("disconnect",(()=>{console.log("User has disconnected, Scaledrone will try to reconnect soon")})),A.on("reconnect",(()=>{console.log("User has been reconnected")}))),j&&(e(),C(!1))}),[x,A,j,D,p,O]),localStorage.username||x.member.username?s?Object(n.jsxs)("div",{className:"dark"===c?"chat":"chat chat--light",ref:w,children:[Object(n.jsx)(l,{room:x.member.room,whoIsTyping:D,members:O.online}),Object(n.jsx)(_,{chatTheme:c,setChatTheme:e=>i(e),saveChat:m,setSaveChat:e=>d(e),showHistory:g,setShowHistory:e=>b(e),chat:x,setChat:e=>F(e),drone:A,setDrone:e=>o(e),setRoomReady:e=>a(e),setRoomChange:e=>C(e)}),Object(n.jsx)(r,{getElement:()=>w}),Object(n.jsx)(f,{messages:x.messages,thisMember:x.member,initialMemberId:p,chatTheme:c,showHistory:g}),Object(n.jsx)(u,{sendMessage:e=>A.publish(e),thisMember:x.member})]}):Object(n.jsx)(h,{}):Object(n.jsx)("div",{className:"reg-container",children:Object(n.jsx)(v,{chat:x,setChat:e=>F(e)})})}const N=document.getElementById("root");A.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(w,{})}),N)}],[[20,1,2]]]);
//# sourceMappingURL=main.dcdbe65e.chunk.js.map